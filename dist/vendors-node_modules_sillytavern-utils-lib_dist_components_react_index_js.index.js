export const __webpack_esm_id__ = "vendors-node_modules_sillytavern-utils-lib_dist_components_react_index_js";
export const __webpack_esm_ids__ = ["vendors-node_modules_sillytavern-utils-lib_dist_components_react_index_js"];
export const __webpack_esm_modules__ = {

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/ConnectionProfileSelect.js"
/*!*********************************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/ConnectionProfileSelect.js ***!
  \*********************************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STConnectionProfileSelect: () => (/* binding */ q)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _STSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./STSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STSelect.js");
/* harmony import */ var _profile_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../profile-utils.js */ "./node_modules/sillytavern-utils-lib/dist/profile-utils.js");




const r = SillyTavern.getContext(), q = ({
  initialSelectedProfileId: L,
  allowedTypes: s = { openai: "Chat Completion", textgenerationwebui: "Text Completion" },
  placeholder: D = "Select a Connection Profile",
  onChange: n,
  onCreate: u,
  onUpdate: p,
  onDelete: f
}) => {
  const [E, N] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(L ?? ""), [x, S] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Date.now()), { isEnabled: l, profiles: O, connectApiMap: c } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    var t, i;
    return ((t = r.extensionSettings.disabledExtensions) == null ? void 0 : t.includes("connection-manager")) ? (console.error("Connection Manager extension is disabled."), { isEnabled: !1, profiles: [], connectApiMap: {} }) : {
      isEnabled: !0,
      profiles: ((i = r.extensionSettings.connectionManager) == null ? void 0 : i.profiles) ?? [],
      connectApiMap: r.CONNECT_API_MAP
    };
  }, [x]);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!l) return;
    const o = (e) => {
      (0,_profile_utils_js__WEBPACK_IMPORTED_MODULE_3__.isProfileSupported)(e, s, c) && (S(Date.now()), u == null || u(e));
    }, t = (e, m) => {
      const P = (0,_profile_utils_js__WEBPACK_IMPORTED_MODULE_3__.isProfileSupported)(e, s, c), b = (0,_profile_utils_js__WEBPACK_IMPORTED_MODULE_3__.isProfileSupported)(m, s, c);
      (P || b) && S(Date.now()), p == null || p(e, m), E === e.id && !b && (N(""), n == null || n(void 0));
    }, i = (e) => {
      (0,_profile_utils_js__WEBPACK_IMPORTED_MODULE_3__.isProfileSupported)(e, s, c) && (S(Date.now()), f == null || f(e), E === e.id && (N(""), n == null || n(void 0)));
    };
    return r.eventSource.on("CONNECTION_PROFILE_CREATED", o), r.eventSource.on("CONNECTION_PROFILE_UPDATED", t), r.eventSource.on("CONNECTION_PROFILE_DELETED", i), () => {
      r.eventSource.removeListener("CONNECTION_PROFILE_CREATED", o), r.eventSource.removeListener("CONNECTION_PROFILE_UPDATED", t), r.eventSource.removeListener("CONNECTION_PROFILE_DELETED", i);
    };
  }, [l, E, s, c, n, u, p, f]);
  const C = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    if (!l) return [];
    const o = O.filter((i) => (0,_profile_utils_js__WEBPACK_IMPORTED_MODULE_3__.isProfileSupported)(i, s, c)), t = {};
    for (const [i, e] of Object.entries(s))
      t[i] = { label: e, profiles: [] };
    for (const i of o) {
      const e = c[i.api];
      t[e.selected] && t[e.selected].profiles.push(i);
    }
    for (const i of Object.values(t))
      i.profiles.sort((e, m) => (e.name ?? "").localeCompare(m.name ?? ""));
    return Object.values(t).filter((i) => i.profiles.length > 0);
  }, [l, O, s, c]), M = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(
    (o) => {
      const t = o.target.value;
      N(t);
      const i = O.find((e) => e.id === t);
      n == null || n(i);
    },
    [O, n]
  );
  return l ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_STSelect_js__WEBPACK_IMPORTED_MODULE_2__.STSelect, { value: E, onChange: M, children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "", children: D }),
    C.map((o) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("optgroup", { label: o.label, children: o.profiles.map((t) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: t.id, children: t.name }, t.id)) }, o.label))
  ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_STSelect_js__WEBPACK_IMPORTED_MODULE_2__.STSelect, { disabled: !0, value: "", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { children: "Connection Manager disabled" }) });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/Popup.js"
/*!***************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/Popup.js ***!
  \***************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Popup: () => (/* binding */ it)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var _types_popup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../types/popup.js */ "./node_modules/sillytavern-utils-lib/dist/types/popup.js");
/* harmony import */ var _power_user_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../power-user.js */ "../../../../power-user.js");
/* harmony import */ var _script_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../script.js */ "../../../../../script.js");
/* harmony import */ var _world_info_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../world-info.js */ "../../../../world-info.js");
/* harmony import */ var _slash_commands_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../slash-commands.js */ "../../../../slash-commands.js");
/* harmony import */ var _personas_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../personas.js */ "../../../../personas.js");
/* harmony import */ var _instruct_mode_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../instruct-mode.js */ "../../../../instruct-mode.js");
/* harmony import */ var _chats_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chats.js */ "../../../../chats.js");
/* harmony import */ var _openai_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../openai.js */ "../../../../openai.js");
/* harmony import */ var _authors_note_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../authors-note.js */ "../../../../authors-note.js");
/* harmony import */ var _group_chats_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../group-chats.js */ "../../../../group-chats.js");
/* harmony import */ var _regex_engine_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../regex/engine.js */ "../../../regex/engine.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../utils.js */ "../../../../utils.js");
/* harmony import */ var _slash_commands_SlashCommandCommonEnumsProvider_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../slash-commands/SlashCommandCommonEnumsProvider.js */ "../../../../slash-commands/SlashCommandCommonEnumsProvider.js");
/* harmony import */ var _slash_commands_SlashCommandEnumValue_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../slash-commands/SlashCommandEnumValue.js */ "../../../../slash-commands/SlashCommandEnumValue.js");
/* harmony import */ var _popup_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../popup.js */ "../../../../popup.js");
/* harmony import */ var _lib_dialog_polyfill_esm_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../lib/dialog-polyfill.esm.js */ "../../../../../lib/dialog-polyfill.esm.js");




















const V = SillyTavern.getContext(), it = ({
  content: F,
  type: u,
  inputValue: R = "",
  options: e = {},
  preventEscape: k = !1,
  onComplete: y
}) => {
  var E;
  const d = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), _ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), [z, N] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), [U, x] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null), P = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(V.uuidv4()), o = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({
    id: P.current,
    type: u,
    dlg: null,
    mainInput: null,
    lastFocus: null,
    value: void 0,
    result: void 0,
    inputResults: void 0
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const t = d.current;
    if (!t) return;
    const r = (l) => {
      l.preventDefault(), k || m(_types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.CANCELLED);
    };
    return t.addEventListener("cancel", r), o.current.dlg = t, o.current.mainInput = _.current, _popup_js__WEBPACK_IMPORTED_MODULE_18__.Popup.util.popups.push(o.current), t.showModal || (t.classList.add("poly_dialog"), _lib_dialog_polyfill_esm_js__WEBPACK_IMPORTED_MODULE_19__["default"].registerDialog(t), new ResizeObserver((a) => {
      for (const h of a)
        _lib_dialog_polyfill_esm_js__WEBPACK_IMPORTED_MODULE_19__["default"].reposition(h.target);
    }).observe(t)), t.showModal(), (0,_popup_js__WEBPACK_IMPORTED_MODULE_18__.fixToastrForDialogs)(), () => {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_15__.removeFromArray)(_popup_js__WEBPACK_IMPORTED_MODULE_18__.Popup.util.popups, o.current), (0,_popup_js__WEBPACK_IMPORTED_MODULE_18__.fixToastrForDialogs)(), t.removeEventListener("cancel", r);
    };
  }, []);
  const m = async (t) => {
    var a, h;
    let r = t;
    if (u === _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_TYPE.INPUT && (t >= _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.AFFIRMATIVE ? r = (a = _.current) == null ? void 0 : a.value : t === _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.NEGATIVE ? r = !1 : t === _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.CANCELLED ? r = null : r = !1), (h = e.customInputs) != null && h.length) {
      const f = new Map(
        e.customInputs.map((g) => {
          var i;
          const v = (i = d.current) == null ? void 0 : i.querySelector(`#${g.id}`);
          return [v.id, v.checked];
        })
      );
      o.current.inputResults = f;
    }
    if (o.current.result = t, o.current.value = r, e.onClosing && !await e.onClosing(o.current)) {
      N(!0), o.current.value = void 0, o.current.result = void 0, o.current.inputResults = void 0;
      return;
    }
    N(!1), _popup_js__WEBPACK_IMPORTED_MODULE_18__.Popup.util.lastResult = {
      value: r,
      result: t,
      inputResults: o.current.inputResults
    };
    const l = d.current;
    l && (l.setAttribute("closing", ""), (0,_popup_js__WEBPACK_IMPORTED_MODULE_18__.fixToastrForDialogs)(), (0,_utils_js__WEBPACK_IMPORTED_MODULE_15__.runAfterAnimation)(l, async () => {
      var f;
      if (l.close(), e.onClose && await e.onClose(o.current), (0,_utils_js__WEBPACK_IMPORTED_MODULE_15__.removeFromArray)(_popup_js__WEBPACK_IMPORTED_MODULE_18__.Popup.util.popups, o.current), _popup_js__WEBPACK_IMPORTED_MODULE_18__.Popup.util.popups.length > 0) {
        const g = (f = document.activeElement) == null ? void 0 : f.closest(".popup"), v = g == null ? void 0 : g.getAttribute("data-id"), i = _popup_js__WEBPACK_IMPORTED_MODULE_18__.Popup.util.popups.find((T) => T.id === v);
        i && i.lastFocus && i.lastFocus.focus();
      }
      y(r);
    }));
  }, D = (t) => {
    t.target instanceof HTMLElement && t.target !== d.current && (x(t.target), o.current.lastFocus = t.target);
  }, S = async (t) => {
  };
  return (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "dialog",
      {
        ref: d,
        className: (() => {
          const t = ["popup"];
          return e.wide && t.push("wide_dialogue_popup"), e.wider && t.push("wider_dialogue_popup"), e.large && t.push("large_dialogue_popup"), e.transparent && t.push("transparent_dialogue_popup"), e.allowHorizontalScrolling && t.push("horizontal_scrolling_dialogue_popup"), e.allowVerticalScrolling && t.push("vertical_scrolling_dialogue_popup"), e.animation && t.push(`popup--animation-${e.animation}`), t.join(" ");
        })(),
        "data-id": P.current,
        onKeyDown: S,
        onFocus: D,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "popup-body", children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "popup-content", children: F }),
          u === _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_TYPE.INPUT && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "textarea",
            {
              ref: _,
              className: "popup-input text_pole result-control auto-select",
              rows: e.rows ?? 1,
              defaultValue: R,
              "data-result": "1",
              "data-result-event": "submit"
            }
          ),
          e.customInputs && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "popup-inputs", children: e.customInputs.map((t) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox_label justifyCenter", htmlFor: t.id, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", id: t.id, defaultChecked: t.defaultState }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { "data-i18n": t.label, children: t.label }),
            t.tooltip && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: "fa-solid fa-circle-info opacity50p",
                title: t.tooltip,
                "data-i18n": `[title]${t.tooltip}`
              }
            )
          ] }, t.id)) }),
          u !== _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_TYPE.DISPLAY && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "popup-controls", children: [
            (E = e.customButtons) == null ? void 0 : E.map((t, r) => {
              const l = typeof t == "string" ? { text: t, result: r + 2 } : t;
              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
                "div",
                {
                  className: `menu_button popup-button-custom result-control ${l.classes ?? ""}`,
                  "data-result": l.result,
                  onClick: () => {
                    var a;
                    (a = l.action) == null || a.call(l), m(l.result ?? r + 2);
                  },
                  "data-i18n": l.text,
                  children: l.text
                },
                r
              );
            }),
            u !== _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_TYPE.DISPLAY && e.okButton !== !1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: "popup-button-ok menu_button result-control",
                onClick: () => m(_types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.AFFIRMATIVE),
                "data-result": "1",
                children: typeof e.okButton == "string" ? e.okButton : "OK"
              }
            ),
            u !== _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_TYPE.DISPLAY && e.cancelButton !== !1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: "popup-button-cancel menu_button result-control",
                onClick: () => m(_types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.NEGATIVE),
                "data-result": "0",
                children: typeof e.cancelButton == "string" ? e.cancelButton : "Cancel"
              }
            )
          ] }),
          u === _types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_TYPE.DISPLAY && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "div",
            {
              className: "popup-button-close right_menu_button fa-solid fa-circle-xmark",
              onClick: () => m(_types_popup_js__WEBPACK_IMPORTED_MODULE_3__.POPUP_RESULT.CANCELLED),
              "data-result": "0",
              title: "Close popup",
              "data-i18n": "[title]Close popup"
            }
          )
        ] })
      }
    ),
    document.body
  );
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STButton.js"
/*!******************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STButton.js ***!
  \******************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STButton: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


const l = ({ children: s, className: o, overrideDefaults: n = !1, ...e }) => {
  const r = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const t = [];
    return n || t.push("menu_button", "interactable"), t.push(o), t.filter(Boolean).join(" ");
  }, [n, o]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: r, ...e, children: s });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STFancyDropdown.js"
/*!*************************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STFancyDropdown.js ***!
  \*************************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FancyDropdownItem: () => (/* binding */ M),
/* harmony export */   STFancyDropdown: () => (/* binding */ z)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var fuse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fuse.js */ "./node_modules/fuse.js/dist/fuse.mjs");
/* harmony import */ var _STInput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./STInput.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STInput.js");




const z = ({
  items: e,
  value: o,
  onChange: p,
  placeholder: s = "Select items...",
  closeOnSelect: l = !1,
  multiple: I = !0,
  disabled: f = !1,
  onBeforeSelection: y,
  enableSearch: a = !1,
  searchPlaceholder: N = "Search...",
  searchNoResultsText: T = "No results found",
  searchFuseOptions: h,
  inputClasses: E,
  containerClasses: L
}) => {
  const [i, u] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1), [c, b] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""), v = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const r = (t) => {
      v.current && !v.current.contains(t.target) && u(!1);
    };
    return document.addEventListener("mousedown", r), () => document.removeEventListener("mousedown", r);
  }, []), (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    i || b("");
  }, [i]);
  const g = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    if (!a) return null;
    const r = {
      includeScore: !1,
      threshold: 0.4,
      keys: ["label", "value"],
      ...h
    };
    return new fuse_js__WEBPACK_IMPORTED_MODULE_2__["default"](e, r);
  }, [e, a, h]), w = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => !a || !c.trim() || !g ? e : g.search(c.trim()).map((r) => r.item), [e, c, a, g]), R = async (r) => {
    let t;
    I ? t = o.includes(r) ? o.filter((C) => C !== r) : [...o, r] : t = o.includes(r) ? [] : [r], !(y && !await Promise.resolve(y(o, t))) && (p(t), l && u(!1));
  }, S = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    var r;
    return o.length === 0 ? s : o.length === 1 ? ((r = e.find((t) => t.value === o[0])) == null ? void 0 : r.label) ?? o[0] : `${o.length} items selected`;
  }, [o, e, s]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    "div",
    {
      ref: v,
      className: `fancy-dropdown-container ${L ?? ""}`,
      style: {
        position: "relative",
        userSelect: "none",
        opacity: f ? 0.6 : 1,
        pointerEvents: f ? "none" : "auto"
      },
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
          "div",
          {
            className: "fancy-dropdown-trigger",
            onClick: () => !f && u(!i),
            style: {
              padding: "8px 12px",
              border: "1px solid var(--border-color)",
              backgroundColor: "var(--bg-color)",
              color: "var(--text-color)",
              borderRadius: "4px",
              cursor: "pointer",
              display: "flex",
              alignItems: "center",
              justifyContent: "space-between"
            },
            children: [
              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "fancy-dropdown-trigger-text", children: S }),
              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: `fas ${i ? "fa-chevron-up" : "fa-chevron-down"}`, style: { marginLeft: "8px" } })
            ]
          }
        ),
        i && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
          "div",
          {
            className: "fancy-dropdown-list",
            style: {
              position: "absolute",
              top: "100%",
              left: "0",
              right: "0",
              maxHeight: "300px",
              zIndex: 1050,
              border: "1px solid var(--border-color)",
              borderTop: "none",
              backgroundColor: "var(--bg-color-popup, var(--bg-color-secondary, var(--greyCAIbg, var(--grey30))))",
              color: "var(--text-color)",
              borderRadius: "0 0 4px 4px",
              boxShadow: "0 4px 8px var(--black50a)",
              overflowY: "auto",
              display: "flex",
              flexDirection: "column"
            },
            children: [
              a && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
                "div",
                {
                  style: {
                    padding: "8px",
                    borderBottom: "1px solid var(--border-color)",
                    position: "sticky",
                    top: 0,
                    backgroundColor: "inherit"
                  },
                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
                    _STInput_js__WEBPACK_IMPORTED_MODULE_3__.STInput,
                    {
                      type: "text",
                      placeholder: N,
                      value: c,
                      onChange: (r) => b(r.target.value),
                      autoFocus: !0,
                      className: E
                    }
                  )
                }
              ),
              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { style: { listStyle: "none", margin: 0, padding: 0 }, children: w.length > 0 ? w.map((r) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
                M,
                {
                  item: r,
                  isSelected: o.includes(r.value),
                  onClick: R
                },
                r.value
              )) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
                "div",
                {
                  style: {
                    padding: "8px 12px",
                    textAlign: "center",
                    color: "var(--text-color-secondary, var(--grey50))"
                  },
                  children: T
                }
              ) })
            ]
          }
        )
      ]
    }
  );
}, M = react__WEBPACK_IMPORTED_MODULE_1__.memo(({ item: e, isSelected: o, onClick: p }) => {
  const [s, l] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    "li",
    {
      onClick: () => p(e.value),
      onMouseEnter: () => l(!0),
      onMouseLeave: () => l(!1),
      style: {
        padding: "8px 12px",
        cursor: "pointer",
        display: "flex",
        alignItems: "center",
        justifyContent: "space-between",
        backgroundColor: o ? "var(--accent-color-bg, var(--link-color))" : s ? "var(--hover-color, var(--white20a))" : "transparent"
      },
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: e.label }),
        o && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("i", { className: "checkmark fa-solid fa-check", style: { marginLeft: "8px" } })
      ]
    }
  );
});



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STInput.js"
/*!*****************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STInput.js ***!
  \*****************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STInput: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


const h = ({ label: r, className: o, overrideDefaults: c = !1, type: n = "text", ...t }) => {
  const i = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const s = [];
    return c || (n === "text" || n === "number" || n === "password" || n === "email" || n === "search") && s.push("text_pole"), s.push(o), s.filter(Boolean).join(" ");
  }, [c, o, n]);
  if (n === "checkbox") {
    const s = c ? o : `checkbox_label ${o ?? ""}`.trim();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: s, children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", ...t }),
      r && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: r })
    ] });
  }
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: n, className: i, ...t });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STPresetSelect.js"
/*!************************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STPresetSelect.js ***!
  \************************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STPresetSelect: () => (/* binding */ G)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _STButton_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./STButton.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STButton.js");
/* harmony import */ var _STSelect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./STSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STSelect.js");
/* harmony import */ var _Popup_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Popup.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/Popup.js");
/* harmony import */ var _ConnectionProfileSelect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectionProfileSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/ConnectionProfileSelect.js");
/* harmony import */ var _STSortableList_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./STSortableList.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STSortableList.js");
/* harmony import */ var _STFancyDropdown_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./STFancyDropdown.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STFancyDropdown.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../config.js */ "./node_modules/sillytavern-utils-lib/dist/config.js");









const p = SillyTavern.getContext(), G = ({
  value: o,
  items: s,
  readOnlyValues: h = [],
  label: a,
  onChange: f,
  onItemsChange: v,
  enableCreate: g = !1,
  enableRename: k = !1,
  enableDelete: C = !1,
  onCreate: $,
  onRename: y,
  onDelete: x,
  buttons: w
}) => {
  const t = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => s.find((e) => e.value === o), [s, o]), P = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e) => e ? h.includes(e) : !1, [h]), I = async () => {
    const e = await p.Popup.show.input(
      `Create a new ${a}`,
      `Please enter a name for the new ${a}:`,
      ""
    );
    if (!e || e.trim() === "") return;
    const r = e.trim();
    if (s.some((n) => n.value === r)) {
      await (0,_config_js__WEBPACK_IMPORTED_MODULE_8__.st_echo)("warning", `A ${a} with this name already exists.`);
      return;
    }
    let i = { value: r, label: r };
    if ($) {
      const n = await Promise.resolve($(r));
      if (!n.confirmed) return;
      n.value && (typeof n.value == "string" ? i = { value: n.value, label: n.value } : i = n.value);
    }
    v([...s, i]), f(i.value, o);
  }, S = async () => {
    if (!t) {
      await (0,_config_js__WEBPACK_IMPORTED_MODULE_8__.st_echo)("warning", `Please select a ${a} to rename.`);
      return;
    }
    if (P(t.value)) {
      await (0,_config_js__WEBPACK_IMPORTED_MODULE_8__.st_echo)("warning", `This ${a} cannot be renamed as it is read-only.`);
      return;
    }
    const e = await p.Popup.show.input(
      `Rename ${a}`,
      `Please enter a new name for "${t.label}":`,
      t.label
    );
    if (!e || e.trim() === "" || e.trim() === t.value) return;
    const r = e.trim();
    if (s.some((l) => l.value === r)) {
      await (0,_config_js__WEBPACK_IMPORTED_MODULE_8__.st_echo)("warning", `A ${a} with this name already exists.`);
      return;
    }
    let i = { value: r, label: r };
    if (y) {
      const l = await Promise.resolve(y(t.value, r));
      if (!l.confirmed) return;
      l.value && (typeof l.value == "string" ? i = { value: l.value, label: l.value } : i = l.value);
    }
    const n = s.map((l) => l.value === t.value ? i : l);
    v(n), f(i.value, o);
  }, T = async () => {
    var l;
    if (!t) {
      await (0,_config_js__WEBPACK_IMPORTED_MODULE_8__.st_echo)("warning", `Please select a ${a} to delete.`);
      return;
    }
    if (P(t.value)) {
      await (0,_config_js__WEBPACK_IMPORTED_MODULE_8__.st_echo)("warning", `This ${a} cannot be deleted as it is read-only.`);
      return;
    }
    if (!await p.Popup.show.confirm(
      `Delete ${a}`,
      `Are you sure you want to delete "${t.label}"?`
    ) || x && !await Promise.resolve(x(t.value)))
      return;
    const r = s.findIndex((c) => c.value === t.value), i = s.filter((c) => c.value !== t.value);
    v(i);
    let n;
    if (i.length > 0) {
      const c = Math.min(r, i.length - 1);
      n = (l = i[c]) == null ? void 0 : l.value;
    }
    f(n, o);
  };
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preset-select-container", style: { display: "flex", alignItems: "center" }, children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_STSelect_js__WEBPACK_IMPORTED_MODULE_3__.STSelect, { value: o ?? "", onChange: (e) => f(e.target.value, o), children: s.map((e) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: e.value, children: e.label }, e.value)) }),
    g && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _STButton_js__WEBPACK_IMPORTED_MODULE_2__.STButton,
      {
        className: "fa-solid fa-file-circle-plus",
        title: `Create a new ${a}`,
        onClick: I,
        "data-i18n": `[title]Create a new ${a}`
      }
    ),
    k && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _STButton_js__WEBPACK_IMPORTED_MODULE_2__.STButton,
      {
        className: "fa-solid fa-pencil",
        title: `Rename selected ${a}`,
        onClick: S,
        disabled: !t,
        "data-i18n": `[title]Rename selected ${a}`
      }
    ),
    C && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _STButton_js__WEBPACK_IMPORTED_MODULE_2__.STButton,
      {
        className: "fa-solid fa-trash-can",
        title: `Delete selected ${a}`,
        onClick: T,
        disabled: !t,
        "data-i18n": `[title]Delete selected ${a}`
      }
    ),
    w == null ? void 0 : w.map((e) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _STButton_js__WEBPACK_IMPORTED_MODULE_2__.STButton,
      {
        className: e.icon,
        title: e.title,
        onClick: e.onClick,
        disabled: e.disabled,
        "data-i18n": e.i18n ? `[title]${e.i18n}` : void 0
      },
      e.key
    ))
  ] });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STSelect.js"
/*!******************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STSelect.js ***!
  \******************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STSelect: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


const a = ({ children: t, className: s, overrideDefaults: o = !1, ...l }) => {
  const n = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const e = [];
    return o || e.push("text_pole"), e.push(s), e.filter(Boolean).join(" ");
  }, [o, s]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select", { className: n, ...l, children: t });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STSortableList.js"
/*!************************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STSortableList.js ***!
  \************************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STSortableList: () => (/* binding */ F),
/* harmony export */   STSortableListItem: () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var sortablejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sortablejs */ "./node_modules/sortablejs/modular/sortable.esm.js");
/* harmony import */ var _STSelect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./STSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STSelect.js");
/* harmony import */ var _STButton_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./STButton.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STButton.js");





const D = react__WEBPACK_IMPORTED_MODULE_1__.memo(
  ({ item: o, showToggleButton: a, showDeleteButton: f, showSelectInput: u, onToggle: m, onDelete: p, onSelectChange: i }) => {
    const {
      id: n,
      label: h,
      enabled: s,
      canDelete: g = !0,
      canToggle: e = !0,
      showSelect: l = !0,
      canSelect: t = !0,
      selectOptions: c = [],
      selectValue: b
    } = o, C = {
      display: "flex",
      alignItems: "center",
      padding: "8px 12px",
      border: "1px solid var(--SmartThemeBorderColor, #ccc)",
      color: "var(--SmartThemeBodyColor, #333)",
      marginBottom: "2px",
      opacity: a && !s ? 0.6 : 1
    }, y = { cursor: "pointer", flexShrink: 0 }, S = { display: "inline-block", flexShrink: 0, marginRight: "10px" };
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", { className: "sortable-list-item", style: C, "data-id": n, children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "span",
        {
          className: "drag-handle fas fa-bars",
          style: { cursor: "grab", marginRight: "10px", color: "var(--SmartThemeBodyColor, #555)", flexShrink: 0 }
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "span",
        {
          className: "item-label",
          style: {
            flexGrow: 1,
            marginRight: "10px",
            overflow: "hidden",
            textOverflow: "ellipsis",
            whiteSpace: "nowrap"
          },
          children: h
        }
      ),
      u && l && t && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _STSelect_js__WEBPACK_IMPORTED_MODULE_3__.STSelect,
        {
          value: b,
          onChange: (d) => i(n, d.target.value),
          disabled: !s,
          style: { marginRight: "10px", flexShrink: 0, width: "unset" },
          children: c.length === 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { disabled: !0, children: "--" }) : c.map((d) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: d.value, children: d.label }, d.value))
        }
      ),
      u && (!l || !t) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: S }),
      a && e && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _STButton_js__WEBPACK_IMPORTED_MODULE_4__.STButton,
        {
          overrideDefaults: !0,
          className: `toggle-button fas ${s ? "fa-toggle-on" : "fa-toggle-off"}`,
          style: {
            ...y,
            marginRight: "10px",
            fontSize: "1.2em",
            color: s ? "var(--success-color, #4CAF50)" : "var(--SmartThemeBodyColor, #555)",
            backgroundColor: "transparent",
            border: "none"
          },
          onClick: () => m(n)
        }
      ),
      a && !e && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: S }),
      f && g && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _STButton_js__WEBPACK_IMPORTED_MODULE_4__.STButton,
        {
          overrideDefaults: !0,
          className: "delete-button fas fa-trash-can",
          style: {
            ...y,
            color: "var(--error-color, #f44336)",
            backgroundColor: "transparent",
            border: "none"
          },
          onClick: () => p(n)
        }
      ),
      f && !g && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: { ...S, marginRight: 0 } })
    ] });
  }
), F = ({
  items: o,
  onItemsChange: a,
  showToggleButton: f = !1,
  showDeleteButton: u = !1,
  showSelectInput: m = !1,
  sortableJsOptions: p = {}
}) => {
  const i = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null), n = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => (i.current && (n.current = sortablejs__WEBPACK_IMPORTED_MODULE_2__["default"].create(i.current, {
    handle: ".drag-handle",
    animation: 150,
    ghostClass: "sortable-ghost",
    chosenClass: "sortable-chosen",
    dragClass: "sortable-drag",
    filter: "select, button, .toggle-button, .delete-button",
    // Prevent drag on controls
    preventOnFilter: !1,
    ...p,
    onEnd: (e) => {
      const { oldIndex: l, newIndex: t } = e;
      if (l === void 0 || t === void 0 || l === t)
        return;
      const c = Array.from(o), [b] = c.splice(l, 1);
      c.splice(t, 0, b), a(c);
    }
  })), () => {
    var e;
    (e = n.current) == null || e.destroy(), n.current = null;
  }), [o, a, p]);
  const h = (e) => {
    a(o.map((l) => l.id === e ? { ...l, enabled: !l.enabled } : l));
  }, s = (e) => {
    a(o.filter((l) => l.id !== e));
  }, g = (e, l) => {
    a(o.map((t) => t.id === e ? { ...t, selectValue: l } : t));
  };
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { ref: i, className: "sortable-list", style: { listStyle: "none", padding: 0, margin: 0 }, children: o.map((e) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    D,
    {
      item: e,
      showToggleButton: f,
      showDeleteButton: u,
      showSelectInput: m,
      onToggle: h,
      onDelete: s,
      onSelectChange: g
    },
    e.id
  )) });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/STTextarea.js"
/*!********************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/STTextarea.js ***!
  \********************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STTextarea: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


const l = ({ children: a, className: e, overrideDefaults: o = !1, ...s }) => {
  const r = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    const t = [];
    return o || t.push("text_pole", "textarea_compact"), t.push(e), t.filter(Boolean).join(" ");
  }, [o, e]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { className: r, ...s, children: a });
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/components/react/index.js"
/*!***************************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/components/react/index.js ***!
  \***************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FancyDropdownItem: () => (/* reexport safe */ _STFancyDropdown_js__WEBPACK_IMPORTED_MODULE_8__.FancyDropdownItem),
/* harmony export */   Popup: () => (/* reexport safe */ _Popup_js__WEBPACK_IMPORTED_MODULE_4__.Popup),
/* harmony export */   STButton: () => (/* reexport safe */ _STButton_js__WEBPACK_IMPORTED_MODULE_0__.STButton),
/* harmony export */   STConnectionProfileSelect: () => (/* reexport safe */ _ConnectionProfileSelect_js__WEBPACK_IMPORTED_MODULE_5__.STConnectionProfileSelect),
/* harmony export */   STFancyDropdown: () => (/* reexport safe */ _STFancyDropdown_js__WEBPACK_IMPORTED_MODULE_8__.STFancyDropdown),
/* harmony export */   STInput: () => (/* reexport safe */ _STInput_js__WEBPACK_IMPORTED_MODULE_1__.STInput),
/* harmony export */   STPresetSelect: () => (/* reexport safe */ _STPresetSelect_js__WEBPACK_IMPORTED_MODULE_6__.STPresetSelect),
/* harmony export */   STSelect: () => (/* reexport safe */ _STSelect_js__WEBPACK_IMPORTED_MODULE_2__.STSelect),
/* harmony export */   STSortableList: () => (/* reexport safe */ _STSortableList_js__WEBPACK_IMPORTED_MODULE_7__.STSortableList),
/* harmony export */   STSortableListItem: () => (/* reexport safe */ _STSortableList_js__WEBPACK_IMPORTED_MODULE_7__.STSortableListItem),
/* harmony export */   STTextarea: () => (/* reexport safe */ _STTextarea_js__WEBPACK_IMPORTED_MODULE_3__.STTextarea)
/* harmony export */ });
/* harmony import */ var _STButton_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./STButton.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STButton.js");
/* harmony import */ var _STInput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./STInput.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STInput.js");
/* harmony import */ var _STSelect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./STSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STSelect.js");
/* harmony import */ var _STTextarea_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./STTextarea.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STTextarea.js");
/* harmony import */ var _Popup_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Popup.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/Popup.js");
/* harmony import */ var _ConnectionProfileSelect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ConnectionProfileSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/ConnectionProfileSelect.js");
/* harmony import */ var _STPresetSelect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./STPresetSelect.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STPresetSelect.js");
/* harmony import */ var _STSortableList_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./STSortableList.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STSortableList.js");
/* harmony import */ var _STFancyDropdown_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./STFancyDropdown.js */ "./node_modules/sillytavern-utils-lib/dist/components/react/STFancyDropdown.js");












/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/profile-utils.js"
/*!******************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/profile-utils.js ***!
  \******************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isProfileSupported: () => (/* binding */ a)
/* harmony export */ });
const a = (t, r, s) => {
  if (!t || !t.api)
    return !1;
  const e = s[t.api];
  if (!e || !Object.hasOwn(r, e.selected))
    return !1;
  switch (e.selected) {
    case "openai":
      return !!e.source;
    case "textgenerationwebui":
      return !!e.type;
  }
  return !1;
};



/***/ },

/***/ "./node_modules/sillytavern-utils-lib/dist/types/popup.js"
/*!****************************************************************!*\
  !*** ./node_modules/sillytavern-utils-lib/dist/types/popup.js ***!
  \****************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   POPUP_RESULT: () => (/* binding */ N),
/* harmony export */   POPUP_TYPE: () => (/* binding */ A)
/* harmony export */ });
var A = /* @__PURE__ */ ((I) => (I[I.TEXT = 1] = "TEXT", I[I.CONFIRM = 2] = "CONFIRM", I[I.INPUT = 3] = "INPUT", I[I.DISPLAY = 4] = "DISPLAY", I))(A || {}), N = /* @__PURE__ */ ((I) => (I[I.AFFIRMATIVE = 1] = "AFFIRMATIVE", I[I.NEGATIVE = 0] = "NEGATIVE", I[I.CANCELLED = null] = "CANCELLED", I))(N || {});



/***/ }

};

//# sourceMappingURL=vendors-node_modules_sillytavern-utils-lib_dist_components_react_index_js.index.js.map